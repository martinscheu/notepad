<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>notes</title>
  <link rel="stylesheet" href="/static/styles.css" />
  
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='18' fill='%23809398'/><text x='50' y='64' text-anchor='middle' font-size='60' fill='white' font-family='Arial, Helvetica, sans-serif'>n</text></svg>">
</head>
<body>
  <div class="topbar">
    <div class="topbar-left">
      <div class="brand">notes</div>
      <button id="fileViewToggle" class="btn btn-ghost btn-small">Focus</button>
      <input id="search" class="input" type="text" placeholder="Search (Ctrl+K)" autocomplete="off" />
      
    </div>

    <div class="topbar-right">
      <div class="note-actions-top" id="noteActionsTop">
        <div class="action-group">
          <button id="replaceBtn" class="btn">Replace</button>
          <button id="newNote" class="btn">New</button>
          <button id="uploadNote" class="btn">Upload</button>
          <button id="renameNote" class="btn">Rename</button>
          <button id="pinNote" class="btn">Pin</button>
        </div>
        <div class="action-group">
          <button id="previewToggle" class="btn">Preview</button>
          <select id="previewFormat" class="select" aria-label="Preview format">
            <option value="md">Markdown</option>
            <option value="txt">Text</option>
            <option value="json">JSON</option>
            <option value="yaml">YAML</option>
          </select>
          <button id="tocToggle" class="btn">TOC</button>
          <button id="pdfNote" class="btn">PDF</button>
          <button id="downloadNote" class="btn">Download</button>
        </div>
        <div class="action-group">
          <button id="copyLink" class="btn">Copy link</button>
        </div>
        <div class="action-group">
          <button id="syncBtn" class="btn">Settings</button>
          <button id="pauseSyncBtn" class="btn">Pause Sync</button>
        </div>
      </div>

      <button id="themeToggle" class="btn">Dark</button>
    </div>
  </div>

  <input id="uploadInput" type="file" accept=".md,.txt" multiple style="display:none" />

  <div class="layout">
    <div class="sidebar">
      <div class="sidebar-head">
        <div class="muted" id="notesCount">Notes</div>
        <div class="muted small" id="tabSortingInfo">Tab sorting: Classic</div>
        <div class="muted" id="statusLine">Idle</div>
      </div>
      <div class="bulk-actions">
      <select id="sort" class="select" aria-label="Sort">
        <option value="updated">Sort: Updated</option>
        <option value="created">Sort: Created</option>
        <option value="filename">Sort: Filename</option>
      </select>
<button id="mruToggle" class="btn btn-small">Tab sort: MRU</button>

        <button id="selectAll" class="btn">Select all</button>
        <button id="selectNone" class="btn">Select none</button>
        <button id="downloadSelected" class="btn">Download selected</button>
        <button id="deleteSelected" class="btn danger">Delete selected</button>
      </div>
      <div id="notesList" class="notes-list"></div>
    </div>

    <div id="splitter" class="splitter" title="Drag to resize"></div>

    <div class="main">
      <div class="tabsbar">
        <div id="tabsBar" class="tabs"></div>
<div class="save-indicator">
          <div id="saveState" class="muted">Idle</div>
          <div id="saveTime" class="muted"></div>
        </div>
      </div>

      <div class="editorbar">
        <div class="fileline">
          <div class="label muted">File</div>
          <div id="fileName" class="filename">-</div>
        </div>
      </div>
      <div class="editor-area">
        <div id="tocPanel" class="toc-panel hidden" aria-label="Table of contents">
          <div class="panel-header">
            <div class="panel-title">Contents</div>
            <select id="tocDepth" class="select" aria-label="TOC depth">
              <option value="1">H1</option>
              <option value="2">H1–H2</option>
              <option value="3" selected>H1–H3</option>
              <option value="4">H1–H4</option>
              <option value="5">H1–H5</option>
              <option value="6">H1–H6</option>
            </select>
          </div>
          <div id="tocList" class="toc-list"></div>
        </div>
        <div class="editor-stack">
          <div id="preview" class="preview" style="display:none;"></div>
          <div id="editorHighlight" class="editor-highlight" aria-hidden="true"></div>
          <textarea id="editor" class="editor" placeholder="Select a note from the left or create a new one"></textarea>
        </div>

        <div id="replace-panel" class="replace-panel hidden" aria-label="Search and replace panel">
          <div class="panel-header">
            <div class="panel-title">Search &amp; Replace</div>
            <button id="replace-close" class="btn btn-ghost" title="Close">Close</button>
          </div>
          <div class="panel-body">
            <label class="field">
              <div class="field-label">Find</div>
              <input id="replace-find" class="input" type="text" autocomplete="off" />
            </label>
            <label class="field">
              <div class="field-label">Replace with</div>
              <input id="replace-with" class="input" type="text" autocomplete="off" />
            </label>
            <div class="row">
              <label class="check"><input id="replace-matchcase" type="checkbox" /> Match case</label>
              <label class="check"><input id="replace-wholeword" type="checkbox" /> Whole word</label>
            </div>
            <div class="muted small" id="replace-count">0 matches</div>
            <div id="replace-status" class="muted small"></div>
          </div>
          <div class="panel-footer">
            <button id="replace-find-next" class="btn" title="Find next">Find next</button>
            <button id="replace-next" class="btn" title="Replace next">Replace next</button>
            <button id="replace-all" class="btn" title="Replace all">Replace all</button>
          </div>
        </div>
      </div>

      
<div class="help muted">
  <div class="footer-line">
    Shortcuts: Ctrl+N new, Ctrl+K search, Ctrl+H replace, Ctrl+Shift+R rename, Ctrl+X close tab, Esc clear search.<span id="footerTabSorting">Tab sort: MRU</span>
  </div>
  <div class="footer-line">
    Sync: <span id="footerSyncSummary">disabled</span>
  </div>
  <div class="footer-line">
    Version: 1.1.30
  </div>
</div>

    </div>
  </div>

  <script src="/static/app.js"></script>

  <div class="modal hidden" id="syncModal" aria-hidden="true">
    <div class="modal-backdrop" data-close="sync"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="syncTitle">
      <div class="modal-header">
        <div class="modal-title" id="syncTitle">Settings</div>
        <button class="btn btn-small" id="syncCloseBtn">Close</button>
      </div>

      <div class="modal-body">
        <div class="settings-section-title">Sync (WebDAV)</div>
        <div class="form-row">
          <label class="checkbox">
            <input type="checkbox" id="syncEnabled">
            <span>Enable sync</span>
          </label>
        </div>

        <div class="form-row">
          <label>WebDAV URL</label>
          <input type="text" id="syncUrl" placeholder="https://example.com/remote.php/dav/files/user/" autocomplete="off">
        </div>

        <div class="form-row">
          <label>Remote folder</label>
          <input type="text" id="syncRemotePath" placeholder="stickynotes/notes" autocomplete="off">
        </div>

        <div class="grid-2">
          <div class="form-row">
            <label>Username</label>
            <input type="text" id="syncUser" autocomplete="username">
          </div>
          <div class="form-row">
            <label>Password / Token</label>
            <input type="password" id="syncPass" autocomplete="current-password">
          </div>
        </div>

        <div class="grid-2">
          <div class="form-row">
            <label>Mode</label>
            <select id="syncMode">
              <option value="push">Push (local -> WebDAV)</option>
              <option value="pull">Pull (WebDAV -> local)</option>
              <option value="bisync">Two-way (bisync)</option>
            </select>
          </div>
          <div class="form-row">
            <label>Interval (seconds)</label>
            <input type="number" id="syncInterval" min="10" step="5" value="60">
          </div>
        </div>

        <div class="form-row">
          <label class="checkbox">
            <input type="checkbox" id="syncNoDelete" checked>
            <span>No deletes (safety)</span>
          </label>
        </div>

        <div class="form-row">
          <div class="muted small" id="syncStatus">Status: not configured</div>
        </div>

        <div class="settings-divider"></div>
        <div class="settings-section-title">PDF</div>
        <div class="form-row">
          <label>Author</label>
          <input type="text" id="pdfAuthor" autocomplete="off" placeholder="Your name">
        </div>
        <div class="form-row">
          <label>Version</label>
          <input type="text" id="pdfVersion" autocomplete="off" placeholder="1.1.28">
        </div>
        <div class="form-row">
          <div class="muted small" id="pdfStatus">PDF: not configured</div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn" id="syncTestBtn">Test connection</button>
        <button class="btn" id="syncRunBtn">Sync now</button>
        <button class="btn btn-primary" id="syncSaveBtn">Save</button>
        <button class="btn btn-primary" id="pdfSaveBtn">Save PDF</button>
      </div>
    </div>
  </div>


    <!-- Rename Modal -->
    <div id="rename-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="rename-title">
      <div class="modal-card">
        <div class="modal-header">
          <div id="rename-title" class="modal-title">Rename note</div>
          <button id="rename-close" class="btn btn-ghost" title="Close">Close</button>
        </div>

    <div class="modal-body">
      <label class="field">
        <div class="field-label">Title</div>
        <input id="rename-input" class="input" type="text" autocomplete="off" />
        <div class="muted small" style="margin-top:6px;">Renaming updates filename and display title.</div>
      </label>
      <label class="field">
        <div class="field-label">Subject</div>
        <input id="subject-input" class="input" type="text" autocomplete="off" />
        <div class="muted small" style="margin-top:6px;">Notes with the same subject are grouped together.</div>
      </label>
    </div>

        <div class="modal-footer">
          <button id="rename-cancel" class="btn" title="Cancel">Cancel</button>
          <button id="rename-save" class="btn btn-primary" title="Save">Save</button>
        </div>
      </div>
    </div>

</body>
</html>
